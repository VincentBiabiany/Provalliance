{% extends 'base.html.twig' %}
{% block title %}Welcome{% endblock %}

{% block body %}
{% trans_default_domain "translator" %}
<div class="header admin">
</div>
<div class="head">
{{ "admin.liste.titre"|trans({}, "translator") }}</div>

<div class="container">
  <div id="actions">

				<table id="ListePersonnel" class="table table-striped table-bordered" cellspacing="0" width="100%">
					<thead>
					<tr>
						<th>id</th>
						<th class="click"></th>
						<th>{{ "datatable.personnel"|trans({}, "translator") }}</th>
						<th>{{ "datatable.connexion"|trans({}, "translator") }}</th>
						<th>{{ "datatable.role"|trans({}, "translator") }}</th>
						<th>{{ "datatable.actif"|trans({}, "translator") }}</th>
					</tr>
					</thead>
					<tfoot>
					<tr>
						<th>id</th>
						<th class="click"></th>
						<th>{{ "datatable.personnel"|trans({}, "translator") }}</th>
						<th>{{ "datatable.connexion"|trans({}, "translator") }}</th>
						<th>{{ "datatable.role"|trans({}, "translator") }}</th>
						<th>{{ "datatable.actif"|trans({}, "translator") }}</th>
					</tr>
					</tfoot>
					<tbody>
					</tbody>
				</table>

				<div class="col-sm-12">
						<div class="col-sm-6 block">
								<button class="btn-black precedent" onclick="window.location.href = '{{ path("adminHome") }}'">		{{ "global.back"|trans({}, "translator") }}
</button>
						</div>

				</div>
	</div>
</div>

		</div>
	</div>

	<div id="myModal" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
					<div class="modal-body">
						<div class="flashConfirmation">
						  {{ flash }}
							<span class="glyphicon glyphicon-ok-sign"></span>
						</div>
					</div>
					<span class="closeAlert glyphicon glyphicon-remove" data-dismiss="modal"></span>

			</div>

		</div>
	</div>

	<link rel="stylesheet" type="text/css" href="{{ asset('css/jquery.dataTables.min.css') }}">
	<script src="{{ asset('js/jquery.dataTables.min.js') }}"></script>
	<script type="text/javascript">


				var dt  = $('#ListePersonnel').DataTable({
					  "searching": false,
						"processing": true,
						"serverSide": true,
						"ajax":{
								type: 'POST',
								url:"{{ path('adminAccountPaginate') }}",
						} ,
						"sAjaxDataProp": "data",
						"pageLength": 10,
						"order": [[ 1, 'asc' ]],
						"columns":[
								{"data": "id"},
								{"data": "", "class":"details-control", "orderable":false,},
								{"data": "User"},
								{"data": "Dernière Connexion"},
								{"data": "Rôle"},
								{"data": "Actif"},
						],
						"columnDefs": [
								{
										"targets": [0],
										"visible": false,
										"searchable": false
								}
						],
						"language":
							    {
									 "processing":     "{{ "datatable.processing"|trans({}, "translator") }}",
									 "search":         "{{ "datatable.search"|trans({}, "translator") }}",
									 "lengthMenu":     "{{ "datatable.lengthMenu"|trans({}, "translator") }}",
									 "info":           "{{ "datatable.info"|trans({}, "translator") }}",
									 "infoEmpty":      "{{ "datatable.infoEmpty"|trans({}, "translator") }}",
									 "infoFiltered":   "{{ "datatable.infoFiltered"|trans({}, "translator") }}",
									 "infoPostFix":    "",
									 "loadingRecords": "{{ "datatable.loadingRecords"|trans({}, "translator") }}",
									 "zeroRecords":    "{{ "datatable.zeroRecords"|trans({}, "translator") }}",
									 "emptyTable":     "{{ "datatable.emptyTable"|trans({}, "translator") }}",
									 "paginate": {
											 "first":      "{{ "datatable.first"|trans({}, "translator") }}",
											 "previous":   "{{ "datatable.previous"|trans({}, "translator") }}",
											 "next":       "{{ "datatable.next"|trans({}, "translator") }}",
											 "last":       "{{ "datatable.last"|trans({}, "translator") }}"
										 }
				 				 },
						"fnRowCallback": function( nRow, columns, iDisplayIndex ) {

					 }
				});

		   {% if flash %}
			 		$("#myModal").modal();
					$("#myModal").css('display','flex');

			 {% endif %}
		</script>

		{% endblock %}
