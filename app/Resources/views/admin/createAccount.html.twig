{% extends 'base.html.twig' %}
{% block title %}Welcome{% endblock %}

{% block body %}
{% trans_default_domain "demandeacompte" %}
<div class="head">
	Administration - Créer un compte
</div>


{{ form_start(form, {'attr': {'id': 'createAccount'} }) }}


<div class="container">
	<div style="max-width: 100%; margin: auto;">

		<div class="row">
			<form class="form-horizontal" onsubmit="event.preventDefault();" style="margin: auto;width: 50%;">
			  <div class="form-group" style="padding-top: 50px">
				<label class="control-label label col-sm-3 col-xs-12" for="salon"> {{ form_label(form.salon) }}</label>
				 <div class="col-sm-9">

                     {{ form_row(form.salon, { 'attr': {'class': 'form-control'} }) }}
				</div>
			  </div>

			<div class="form-group">
				<label class="control-label label col-sm-3 col-xs-12" for="personnel">{{ form_label(form.idPersonnel) }}</label>
				<div class="col-sm-9">

                {{   form_row(form.idPersonnel, { 'attr': {'class': 'form-control'} }) }}

				</div>
			 </div>

			 <div class="form-group">
				 <label class="control-label label col-sm-3 col-xs-12" for="personnel">{{ form_label(form.email) }}</label>
				 <div class="col-sm-9">

									{{ form_row(form.email, { 'attr': {'class': 'form-control'} }) }}

				 </div>
				</div>

				 <div class="form-group">
					<label class="control-label label col-sm-3 col-xs-12" for="username">{{ form_label(form.username) }}</label>
					<div class="col-sm-9">

									{{ form_row(form.username, { 'attr': {'class': 'form-control'} }) }}

					</div>
				 </div>
				 <div class="form-group">
					<label class="control-label label col-sm-3 col-xs-12" for="password">{{ form_label(form.plainPassword.first) }}</label>
					<div class="col-sm-9">

						     {{ form_row(form.plainPassword.first, { 'attr': {'class': 'form-control'} }) }}

					</div>
				 </div>

				 <div class="form-group">
				 <label class="control-label label col-sm-3 col-xs-12" for="password">{{ form_label(form.plainPassword.second) }}</label>
				 <div class="col-sm-9">

								{{ form_row(form.plainPassword.second, { 'attr': {'class': 'form-control'} }) }}

				 </div>
				</div>

				 <div class="form-group">
					<label class="control-label label col-sm-3 col-xs-12" for="username">{{ form_label(form.enabled) }}</label>
					<div class="col-sm-9">

									{{ form_row(form.enabled, { 'attr': {'class': 'form-control'} }) }}

					</div>
				 </div>



				<div class="col-sm-12" style="padding: 0;">
					<button  onclick="window.location.href ='{{ path("home_paie") }}'" class="btn-black precedent">Précédent</button>
                    {{ form_end(form) }}
				</div>
			</form>
		</div>
		<a href="{{ path('fos_user_security_logout') }}">
				<div class="col-sm-4 deco block">
						<span class="glyphicon glyphicon-off" style="padding-right:5px"></span>{{ "home.deconnexion"|trans({}, "home") }}
				</div>
		</a>
		</div>


	</div>

	<script>
var $salon = $('#createAccount');
// When salon gets selected ...
$salon.change(function() {
  // ... retrieve the corresponding form.
  var $form = $(this).closest('form');
  // Simulate form data, but only include the selected salon value.
  var data = {};
  data['salon'] = $('#create_account_salon').val();
  // Submit data via AJAX to the form's action path.
  $.ajax({
    url : $form.attr('action'),
    type: $form.attr('method'),
    data : data,
    success: function(html) {

      // Replace current position field ...
      $('#create_account_idPersonnel').replaceWith(
        // ... with the returned one from the AJAX response.
        $(html).find('#create_account_idPersonnel')
      );
      // Position field now displays the appropriate positions.
    }
  });
});
</script>
	{% endblock %}
